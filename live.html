<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Turnos Web</title>
  <style>
:root{--bg:#f6f8fb;--card:#ffffff;--fg:#101828;--muted:#667085;--grid:#e4e7ec;--accent:#0f5a4a}
body{background:var(--bg);color:var(--fg)}
.panel{background:var(--card);border:1px solid var(--grid);border-radius:16px}
.badge{border-color:#c7dcff;background:#e7f0ff}

    body{font-family: ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji; background:#f6f7fb; margin:0; padding:16px;}
    .wrap{max-width:1100px; margin:0 auto;}
    .controls{display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-bottom:12px;}
    select{padding:8px 10px; border:1px solid #e5e7eb; border-radius:10px; background:#fff;}
    .card{background:#fff; border:1px solid #e5e7eb; border-radius:14px; box-shadow:0 1px 2px rgba(0,0,0,.03); overflow:hidden;}
    table{width:100%; border-collapse:separate; border-spacing:0;}
    th,td{padding:10px 12px; border-bottom:1px solid #f0f2f6; text-align:left; font-size:14px;}
    thead th{background:#fafbff; font-weight:600; color:#111827; position:sticky; top:0; z-index:1;}
    tbody tr:hover td{background:#fafafa;}
    .pill{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; border:1px solid #e5e7eb; background:#f9fafb;}
    .p-mañana{background:#ecfdf5; border-color:#d1fae5;}
    .p-tarde{background:#fffbeb; border-color:#fde68a;}
    .p-noche{background:#eef2ff; border-color:#c7d2fe;}
    .p-descanso{background:#fee2e2; border-color:#fecaca;}
    .p-vacaciones{background:#f3f4f6; border-color:#e5e7eb;}
    .muted{color:#6b7280;}
    .summary{margin-top:12px;}
    .summary .box{border:1px solid #e5e7eb; border-radius:12px; background:#fff; padding:12px;}
    .summary h3{margin:0 0 8px 0; font-size:14px;}
    .grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:6px; margin:0; padding-left:18px;}
    .tag{display:inline-block; padding:.15rem .5rem; background:#eef2ff; border:1px solid #c7d2fe; border-radius:999px; font-size:12px;}
    .icon{font-size:14px}
  </style>
</head>
<body>
<div class="topbar" style="background:#0f5a4a;color:#fff;border-radius:14px;padding:12px 14px;margin:0 0 12px;display:flex;align-items:center;gap:10px">
  <img src="assets/logo-gc.png" style="width:34px;height:34px;object-fit:contain" alt="">
  <strong>Cuadrantes · Live</strong>
</div>

<div class="wrap">
  <div class="controls">
    <label>Hotel:</label>
    <select id="selHotel"></select>
    <label>Semana:</label>
    <select id="selSemana"></select>
    <span class="muted" id="meta"></span>
  </div>

  <div class="card">
    <table id="tabla">
      <thead>
        <tr>
          <th>Empleado</th>
          <th>Lunes</th><th>Martes</th><th>Miércoles</th><th>Jueves</th>
          <th>Viernes</th><th>Sábado</th><th>Domingo</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div id="resumen-noches" class="summary"></div>
</div>

<script>
// ---- Este bloque será sobreescrito por los scripts generar_*.py ----
const DATA = {"hoteles": [{"nombre": "Cumbria Spa&Hotel", "orden": ["Natalio", "Antonio", "Cristina", "Valentín", "Isabel Hidalgo", "Gustavo", "Esther", "Míriam", "Sergio"]}, {"nombre": "Sercotel Guadiana", "orden": ["Diana", "Dani", "Macarena", "Federico", "¿?", "Isabel Hidalgo", "Sergio Sánchez"]}], "sustituciones": [{"fecha": "2025-06-09", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-10", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-11", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-12", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-13", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-14", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-15", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-16", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-16", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-17", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-17", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-18", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-18", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-19", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-19", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-20", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-20", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-21", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-21", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-22", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-22", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-23", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-23", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-24", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-24", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-25", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-25", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-26", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-26", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-27", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-27", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-28", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-28", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-29", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-29", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-30", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-06-30", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-01", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-01", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-02", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-02", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-03", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-03", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-04", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-04", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-05", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-05", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-06", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-06", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-07", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-07", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-08", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-08", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-09", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-09", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-10", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-10", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-11", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-11", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-12", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-12", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-13", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-13", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-14", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-14", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-15", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-15", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-16", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-16", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-17", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-17", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-18", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-18", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-19", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-19", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-20", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-20", "hotel": "Sercotel Guadiana", "empleado": "Diana", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-21", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-21", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-22", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-22", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-23", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-23", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-24", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-24", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-25", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-25", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-26", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-26", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-27", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-27", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-28", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-28", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-29", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-29", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-30", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-30", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-31", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-07-31", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-01", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-01", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-02", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-02", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-03", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-03", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-04", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-04", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-05", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-05", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-06", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-06", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-07", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-07", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-08", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-08", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-09", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-09", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-10", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-10", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-11", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-11", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-12", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-12", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-13", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-13", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-14", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-14", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-15", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-15", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-16", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-16", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-17", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-17", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-18", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-18", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-19", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-19", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-20", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-20", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-21", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-21", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-22", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-22", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-23", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-23", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-24", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-24", "hotel": "Sercotel Guadiana", "empleado": "Dani", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-25", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-25", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-26", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-26", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-27", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-27", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-28", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-28", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-29", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-29", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-30", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-30", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-31", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-08-31", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-01", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-01", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-02", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-02", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-03", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-03", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-04", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-04", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-05", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-05", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-06", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-06", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-07", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-07", "hotel": "Sercotel Guadiana", "empleado": "Federico", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-08", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-08", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-09", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-09", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-10", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-10", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-11", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-11", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-12", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-12", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-13", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-13", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-14", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-14", "hotel": "Sercotel Guadiana", "empleado": "Macarena", "sustituto": "Esther", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-15", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-16", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-17", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-18", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-19", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-20", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-21", "hotel": "Cumbria Spa&Hotel", "empleado": "Valentín", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-22", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-23", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-24", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-25", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-26", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-27", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-28", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-29", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-09-30", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-01", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-02", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-03", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-04", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-05", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-06", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-07", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-08", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-09", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-10", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-11", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-12", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-13", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-14", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-15", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-16", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-17", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-18", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-10-19", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-03", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-04", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-05", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-06", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-07", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-08", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-09", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-17", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-18", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-19", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-20", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-21", "hotel": "Cumbria Spa&Hotel", "empleado": "Cristina", "sustituto": "Míriam", "tipo": "Vacaciones 🏖️", "cambio": ""}, {"fecha": "2025-11-22", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "Pedro Antonio", "tipo": "Baja", "cambio": ""}, {"fecha": "2025-11-22", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "nan", "tipo": "Cambio de turno", "cambio": ""}, {"fecha": "2025-11-23", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "nan", "tipo": "Cambio de turno", "cambio": ""}, {"fecha": "2025-11-24", "hotel": "Cumbria Spa&Hotel", "empleado": "Natalio", "sustituto": "nan", "tipo": "Cambio de turno", "cambio": ""}, {"fecha": "2025-11-25", "hotel": "Cumbria Spa&Hotel", "empleado": "Sergio", "sustituto": "Sofia", "tipo": "Permiso", "cambio": ""}]}; // placeholder
// -------------------------------------------------------------------

// Utilidades
const normalize = s => String(s||'').normalize('NFD').replace(/[\u0300-\u036f]/g,'').toLowerCase().trim();
const titleCase = s => String(s||'').replace(/\w\S*/g, t=>t.charAt(0).toUpperCase()+t.slice(1));

const KEYMAP = {
  semana: ['semana','week'],
  hotel: ['hotel'],
  empleado: ['empleado','worker','employee','nombre'],
  lunes: ['lunes','monday'],
  martes: ['martes','tuesday'],
  miercoles: ['miercoles','miércoles','wednesday'],
  jueves: ['jueves','thursday'],
  viernes: ['viernes','friday'],
  sabado: ['sabado','sábado','saturday'],
  domingo: ['domingo','sunday'],
};

function pick(obj, keys){
  // case-insensitive
  const lowerMap = {};
  for (const k of Object.keys(obj)) lowerMap[k.toLowerCase()] = k; // mapa real->original
  for (const k of keys){
    for (const c of KEYMAP[k]){
      const real = lowerMap[c];
      if (real !== undefined) return obj[real];
    }
  }
  return undefined;
}

function parseRows(){
  const rows = (DATA && (DATA.rows||DATA)) || [];
  return rows.map(r => {
    return {
      semana: pick(r, ['semana']),
      hotel:  pick(r, ['hotel']),
      empleado: pick(r, ['empleado']),
      turnos: [
        pick(r,['lunes']), pick(r,['martes']), pick(r,['miercoles']),
        pick(r,['jueves']), pick(r,['viernes']), pick(r,['sabado']), pick(r,['domingo'])
      ]
    };
  });
}

function uniqueInOrder(arr){
  const out=[]; const seen=new Set();
  for(const v of arr){ const k=JSON.stringify(v); if(!seen.has(k)){ seen.add(k); out.push(v); } }
  return out;
}

function allHoteles(rows){ return uniqueInOrder(rows.map(r=>r.hotel).filter(Boolean)); }
function allSemanas(rows, hotel){ return uniqueInOrder(rows.filter(r=>normalize(r.hotel)===normalize(hotel)).map(r=>r.semana).filter(Boolean)); }

function clasePill(v){
  const t = normalize(v);
  if (t==='mañana' || t==='manana') return 'p-mañana';
  if (t==='tarde') return 'p-tarde';
  if (t==='noche') return 'p-noche';
  if (t==='descanso') return 'p-descanso';
  if (t.includes('vacac')) return 'p-vacaciones';
  return '';
}

// -------- SUSTITUCIONES (CSV) --------
function idxSustituciones(){
  const S = (DATA && DATA.sustituciones) || [];
  const out = new Map(); // key: hotel|fechaISO|empleadoLower -> array rows
  for (const r of S){
    // columnas posibles (case-insensitive)
    const lower = {}; for (const k in r) lower[k.toLowerCase()] = k;
    function get(k){ return r[lower[k]]; }
    const hotel = String(get('hotel') ?? '').trim();
    const empleado = String(get('empleado') ?? '').trim();
    const sustituto = String(get('sustituto') ?? '').trim();
    const tipoInter = String(get('tipointerpretado') ?? get('tipointerpretado') ?? '').trim();
    const motivo = String(get('motivo') ?? '').trim();
    const fechaNorm = String(get('fechanorm') ?? get('fechanormalizada') ?? get('fechanormal') ?? '').slice(0,10); // yyyy-mm-dd

    // Indexar para el titular y el sustituto (para poder marcar 🔄 en ambos si procede)
    for (const persona of [empleado, sustituto]){
      if (!persona) continue;
      const key = `${hotel.toLowerCase()}|${fechaNorm}|${persona.toLowerCase()}`;
      if (!out.has(key)) out.set(key, []);
      out.get(key).push({tipoInter, motivo});
    }
  }
  return out;
}

function formatISO(d){ const y=d.getFullYear(); const m=String(d.getMonth()+1).padStart(2,'0'); const dd=String(d.getDate()).padStart(2,'0'); return `${y}-${m}-${dd}`; }
function semanaBaseToDate(semanaStr){
  // admite dd/mm/yyyy o d/m/yy
  const s = String(semanaStr||'').trim();
  const m = s.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})$/);
  if (m){ let d=parseInt(m[1],10), M=parseInt(m[2],10)-1, Y=parseInt(m[3],10); if (Y<100) Y+=2000; return new Date(Y,M,d); }
  const dt = new Date(s); return isNaN(dt) ? null : dt;
}
// --------------------------------------

function render(){
  const rows = parseRows();
  const selHotel = document.getElementById('selHotel');
  const selSemana = document.getElementById('selSemana');
  const meta = document.getElementById('meta');
  const tb = document.querySelector('#tabla tbody');

  // inicializar selects una vez
  if (!selHotel.dataset.ready){
    for(const h of allHoteles(rows)){ const opt=document.createElement('option'); opt.value=opt.textContent=h; selHotel.appendChild(opt); }
    selHotel.dataset.ready = '1';
  }
  const hotel = selHotel.value || selHotel.options[0]?.value || '';
  selHotel.value = hotel;

  // semanas del hotel
  selSemana.innerHTML='';
  for(const s of allSemanas(rows, hotel)){ const opt=document.createElement('option'); opt.value=opt.textContent=s; selSemana.appendChild(opt); }
  const semana = selSemana.value || selSemana.options[0]?.value || '';
  selSemana.value = semana;

  // Filas visibles (mantener ORDEN ORIGINAL tal como vienen del Excel)
  const vis = rows.filter(r=>normalize(r.hotel)===normalize(hotel) && String(r.semana)===String(semana));

  // Meta
  meta.textContent = `${vis.length} empleados / 7 días`;

  // Índice de sustituciones
  const idx = idxSustituciones();
  const base = semanaBaseToDate(semana);

  // Pintar tabla
  tb.innerHTML='';
  for(const r of vis){
    const tr=document.createElement('tr');
    const tdN=document.createElement('td'); tdN.innerHTML = `<strong>${r.empleado||''}</strong>`; tr.appendChild(tdN);
    for (let i=0;i<7;i++){
      const v = r.turnos[i] ?? '';
      const td=document.createElement('td');
      const cls = 'pill ' + clasePill(v);

      // calcular fecha del día i y buscar sustituciones
      let cell = '';
      if (base){
        const d = new Date(base); d.setDate(d.getDate()+i);
        const key = `${String(hotel).toLowerCase()}|${formatISO(d)}|${String(r.empleado||'').toLowerCase()}`;
        const susts = idx.get(key) || [];
        const hayCambio = susts.some(x => normalize(x.tipoInter).includes('cambio') || normalize(x.motivo).includes('cambio'));
        const label = v ? titleCase(String(v)) : '';
        cell = `<span class="${cls}">${label}${hayCambio ? ' <span class="icon">🔄</span>' : ''}</span>`;
      } else {
        const label = v ? titleCase(String(v)) : '';
        cell = `<span class="${cls}">${label}</span>`;
      }
      td.innerHTML = cell;
      tr.appendChild(td);
    }
    tb.appendChild(tr);
  }

  renderResumenNoches(vis);
}

function contarNochesPorEmpleado(rowsSemana) {
  const map = new Map(); // mantiene orden de inserción
  for (const r of rowsSemana) {
    const noches = (r.turnos || []).reduce((acc, v) => {
      const t = normalize(v);
      return acc + (t === 'noche' ? 1 : 0);
    }, 0);
    map.set(r.empleado, (map.get(r.empleado) || 0) + noches);
  }
  return map;
}

function renderResumenNoches(rowsSemana) {
  const cont = document.getElementById('resumen-noches');
  if (!cont) return;
  const nochesMap = contarNochesPorEmpleado(rowsSemana);
  const ya = new Set(); const items = [];
  let total = 0;
  for (const r of rowsSemana) {
    if (ya.has(r.empleado)) continue;
    ya.add(r.empleado);
    const n = nochesMap.get(r.empleado) || 0;
    total += n;
    items.push(`<li><strong>${r.empleado||''}</strong>: ${n}</li>`);
  }
  cont.innerHTML = `
    <div class="box">
      <h3>Resumen de noches <span class="tag">Total: ${total}</span></h3>
      <ul class="grid">
        ${items.join('')}
      </ul>
    </div>
  `;
}

// Eventos
document.getElementById('selHotel').addEventListener('change', render);
document.getElementById('selSemana').addEventListener('change', render);

// Primer render
window.addEventListener('DOMContentLoaded', () => { setTimeout(render, 0); });
<script src="plantilla_adapter_semana.js"></script>
</body>

</html>
